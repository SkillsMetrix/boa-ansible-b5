
from fastapi import APIRouter
from . import userschema
from random import randrange

router= APIRouter()

# dummy user data

usersData=[{'uname':'Sam','email':'sam@mail.com','city':'NY','id':101}]

@router.get('/loadusers')
def welcomeUser():
    return {'message':usersData}

@router.post('/adduser')
def adduser(payload: userschema.Users):
    userdata= payload.model_dump()
    userdata['id']=randrange(0,1000)
    usersData.append(userdata)
    return {'message':userdata}



------


from pydantic import BaseModel

class Users(BaseModel):
    uname: str
    email: str
    city: str
-----



from fastapi import FastAPI
from . approuting import router
  
app = FastAPI()

app.include_router(router)

